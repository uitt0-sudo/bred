import React,{useEffect,useRef}from'react'
import {useApp}from'../store'
export default function Cursor(){const r=useRef(null);const {settings}=useApp();useEffect(()=>{if(settings.motion===true)return;const c=r.current,d=c.querySelector('.dot'),g=c.querySelector('.ring');let x=0,y=0,tx=0,ty=0;const mv=e=>{x=e.clientX;y=e.clientY;d.style.transform=`translate(${x-5}px,${y-5}px)`};const lp=()=>{tx+=(x-tx)*0.15;ty+=(y-ty)*0.15;g.style.transform=`translate(${tx-18}px,${ty-18}px) scale(.95)`;requestAnimationFrame(lp)};window.addEventListener('mousemove',mv);lp();const dn=()=>g.style.transform=`translate(${tx-18}px,${ty-18}px) scale(.7)`;const up=()=>g.style.transform=`translate(${tx-18}px,${ty-18}px) scale(.95)`;window.addEventListener('mousedown',dn);window.addEventListener('mouseup',up);return()=>{window.removeEventListener('mousemove',mv);window.removeEventListener('mousedown',dn);window.removeEventListener('mouseup',up)}},[settings.motion]);return(<div className='cursor' ref={r}><div className='ring'></div><div className='dot'></div></div>)}
